<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>অ্যাডমিন প্রোফাইল সেটিং</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>body { font-family: 'SolaimanLipi', sans-serif; background-color: #f1f5f9; }</style>
</head>
<body class="pb-10">
    <header class="p-5 bg-white shadow-sm flex items-center gap-4 sticky top-0 z-50">
        <a href="admin-index.html" class="text-gray-600 text-xl"><i class="fas fa-arrow-left"></i></a>
        <h1 class="font-black text-xl text-gray-800">ADMIN PROFILE</h1>
    </header>

    <div class="max-w-md mx-auto mt-6 px-4">
        <div class="bg-white p-6 rounded-[35px] shadow-xl shadow-slate-200">
            <div class="text-center mb-6">
                <div class="w-24 h-24 bg-gradient-to-tr from-slate-800 to-slate-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg border-4 border-white">
                    <i class="fas fa-user-shield text-white text-4xl"></i>
                </div>
                <h2 class="font-bold text-gray-700">অ্যাডমিন প্রোফাইল তথ্য</h2>
            </div>

            <div class="space-y-4">
                <input type="text" id="admName" placeholder="অ্যাডমিনের নাম" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-slate-800">
                <input type="text" id="admDes" placeholder="পদবি" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-slate-800">
                <input type="text" id="admAddr" placeholder="ঠিকানা" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-slate-800">
                <input type="text" id="admImg" placeholder="প্রোফাইল ছবি URL" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-slate-800">
                <input type="text" id="admMob" placeholder="মোবাইল নাম্বার" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-slate-800">
                <input type="text" id="admFB" placeholder="ফেসবুক লিঙ্ক" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-slate-800">
                <input type="text" id="admWA" placeholder="হোয়াটসঅ্যাপ লিঙ্ক" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-slate-800">
                <input type="text" id="admTG" placeholder="টেলিগ্রাম লিঙ্ক" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-slate-800">

                <button onclick="saveAdminProfile()" class="w-full bg-slate-800 text-white py-4 rounded-2xl font-bold active:scale-95 transition-all mt-4">
                    প্রোফাইল সেভ করুন
                </button>
            </div>
        </div>
    </div>

    <script>
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwt24Fx-yTaTQCOD43UOeuVhVxTJ9ujBmCDeVJI_KcRFt9Oc82ZVix7ACo2i1ZD5pll1g/exec";

        window.onload = async function() {
            try {
                const response = await fetch(SCRIPT_URL);
                const data = await response.json();
                const adm = data.admin;
                document.getElementById('admName').value = adm.name || "";
                document.getElementById('admDes').value = adm.des || "";
                document.getElementById('admAddr').value = adm.addr || "";
                document.getElementById('admImg').value = adm.img || "";
                document.getElementById('admMob').value = adm.mob || "";
                document.getElementById('admFB').value = adm.fb || "";
                document.getElementById('admWA').value = adm.wa || "";
                document.getElementById('admTG').value = adm.tg || "";
            } catch (e) { console.log("Error loading"); }
        };

        async function saveAdminProfile() {
            const adminData = {
                action: "updateAdmin",
                Name: document.getElementById('admName').value,
                Des: document.getElementById('admDes').value,
                Addr: document.getElementById('admAddr').value,
                Img: document.getElementById('admImg').value,
                Mob: document.getElementById('admMob').value,
                FB: document.getElementById('admFB').value,
                WA: document.getElementById('admWA').value,
                TG: document.getElementById('admTG').value
            };

            Swal.fire({ title: 'প্রোফাইল আপডেট হচ্ছে...', allowOutsideClick: false, didOpen: () => { Swal.showLoading(); }});

            try {
                const response = await fetch(SCRIPT_URL, { method: 'POST', body: JSON.stringify(adminData) });
                if (response.ok) { Swal.fire('সফল!', 'অ্যাডমিন প্রোফাইল আপডেট হয়েছে।', 'success'); }
            } catch (e) { Swal.fire('ব্যর্থ!', 'আবার চেষ্টা করুন।', 'error'); }
        }
    </script>
</body>
</html>
